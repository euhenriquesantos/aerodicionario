{% extends "admin/change_form.html" %}
{% load i18n %}

{% block after_related_objects %}
  {{ block.super }}
  <div class="module" style="margin-top:16px; border-radius:12px; padding:12px 16px;">
    <h2 class="h5">Comparação com o termo atual</h2>
    <div class="row">
      <div class="col-6">
        <h3 class="h6">Estado deste histórico</h3>
        <dl>
          <dt>Título</dt><dd>{{ original.previous_titulo }}</dd>
          <dt>EN</dt><dd>{{ original.previous_decod_en|default:'—' }}</dd>
          <dt>PT</dt><dd>{{ original.previous_decod_pt|default:'—' }}</dd>
          <dt>Resumo</dt><dd>{{ original.previous_explicacao|default:'—' }}</dd>
        </dl>
      </div>
      <div class="col-6">
        <h3 class="h6">Termo atual</h3>
        <dl>
          <dt>Título</dt><dd>{{ original.termo.titulo }}</dd>
          <dt>EN</dt><dd>{{ original.termo.decod_en|default:'—' }}</dd>
          <dt>PT</dt><dd>{{ original.termo.decod_pt|default:'—' }}</dd>
          <dt>Resumo</dt><dd>{{ original.termo.explicacao|default:'—' }}</dd>
        </dl>
      </div>
    </div>
    <form method="post" action=".{% if request.GET %}?{{ request.GET.urlencode }}{% endif %}">
      {% csrf_token %}
      <input type="hidden" name="_selected_action" value="{{ original.pk }}">
      <a class="button" href="{% url 'admin:glossario_termo_change' original.termo.pk %}">Abrir termo</a>
    </form>
  </div>
{% endblock %}

